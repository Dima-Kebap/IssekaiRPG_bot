from Events.Event import Event


class Tavern(Event):
    def __init__(self):
        super().__init__()
        self.description = "–í—ã –∑–∞—Ö–æ–¥–∏—Ç–µ –≤ —Ç–∞–≤–µ—Ä–Ω—É –±—É—Ä–Ω—É—é –∂–∏–∑–Ω–∏, —Ö–æ—Ç—è –∫—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å —á—Ç–æ —É " \
                           "–ª—é–¥–µ–π –≤ —ç—Ç–æ–º –∑–∞—Ö–∞–ª—É—Å—Ç—å–µ –µ—Å—Ç—å –¥–µ–Ω—å–≥–∏ —Ö–æ—Ç—å –Ω–∞ —á—Ç–æ-—Ç–æ." \
                           " –î–µ–Ω—å –ø—Ä–æ—à–µ–ª —Ç–∞–∫–∂–µ —Ö–æ—Ä–æ—à–æ –∞ –∫–æ—à–µ–ª—ë–∫ –ø–æ–ª–µ–≥—á–∞–ª "

    def action(self, user):
        if user.money != 0:
            result = min(30, user.money)
            user.minusmoney(result)
            return "-" + str(result) + " üíµ"
        else:
            result = min(20, user.hp-1)
            user.take_damage(result)
            return "–¢–∞–∫ –∫–∞–∫ —É –≤–∞—Å –Ω–µ –Ω–∞—à–ª–æ—Å—å –¥–µ–Ω–µ–≥ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Ç–µ 2 –ª–∏—Ç—Ä–∞ –≤—ã–ø–∏–≤–∫–∏ —á—Ç–æ —Ç–∞–∫ –ª–µ–≥–∫–æ " \
                   "–∑–∞—à–ª–∏ –≤ –≤–∞—Å, —Ç–æ –æ—Ö—Ä–∞–Ω–∞ –∑–∞–≤–µ–¥–µ–Ω–∏—è –ª—é–±–µ–∑–Ω–æ, –Ω–µ –±–µ–∑ —Å–∏–ª—ã –∫–æ–Ω–µ—á–Ω–æ, –≤—ã–ø–Ω—É–ª–∞ –≤–∞—Å –æ—Ç —Ç—É–¥–∞.\n\n" \
                   "-" + str(result) + " ‚ù§"
